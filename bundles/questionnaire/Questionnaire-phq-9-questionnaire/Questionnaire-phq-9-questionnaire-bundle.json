{"resourceType":"Bundle","id":"Questionnaire-phq-9-questionnaire-bundle","type":"transaction","entry":[{"resource":{"resourceType":"Library","id":"PHQ9LogicExample","extension":[{"url":"http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem","valueReference":{"reference":"Device/cqf-tooling"}}],"url":"http://somewhere.org/fhir/uv/mycontentig/Library/PHQ9LogicExample","version":"0.4.9-cibuild","name":"PHQ9LogicExample","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/library-type","code":"logic-library"}]},"content":[{"contentType":"text/cql","data":"bGlicmFyeSBQSFE5TG9naWNFeGFtcGxlIHZlcnNpb24gJzAuNC45LWNpYnVpbGQnDQoNCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnDQoNCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4wLjEnDQoNCmNvZGVzeXN0ZW0gIkxPSU5DIjogJ2h0dHA6Ly9sb2luYy5vcmcnDQoNCmNvZGUgIk5vdCBhdCBhbGwiOiAnTEE2NTY4LTUnIGZyb20gIkxPSU5DIg0KY29kZSAiU2V2ZXJhbCBkYXlzIjogJ0xBNjU2OS0zJyBmcm9tICJMT0lOQyINCmNvZGUgIk1vcmUgdGhhbiBoYWxmIHRoZSBkYXlzIjogJ0xBNjU3MC0xJyBmcm9tICJMT0lOQyINCmNvZGUgIk5lYXJseSBldmVyeSBkYXkiOiAnTEE2NTcxLTknIGZyb20gIkxPSU5DIg0KDQpwYXJhbWV0ZXIgcmVzcG9uc2UgUXVlc3Rpb25uYWlyZVJlc3BvbnNlDQoNCmNvbnRleHQgUGF0aWVudA0KDQpkZWZpbmUgUXVlc3Rpb25uYWlyZVJlc3BvbnNlczogW1F1ZXN0aW9ubmFpcmVSZXNwb25zZV0NCg0KLy8gVXNlIHRoZSBRdWVzdGlvbm5haXJlUmVzcG9uc2UgcHJvdmlkZWQgYXMgYSBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlDQovLyBPdGhlcndpc2UgbG9vayBpdCB1cCBmcm9tIHRoZSByZWNvcmQNCmRlZmluZSAiUXVlc3Rpb25uYWlyZVJlc3BvbnNlIjoNCiAgaWYgcmVzcG9uc2UgaXMgbm90IG51bGwgdGhlbg0KICAgIHJlc3BvbnNlDQogIGVsc2UNCiAgICBMYXN0KA0KICAgICAgW1F1ZXN0aW9ubmFpcmVSZXNwb25zZV0gUVINCiAgICAgICAgd2hlcmUgUVIucXVlc3Rpb25uYWlyZSA9ICdodHRwOi8vc29tZXdoZXJlLm9yZy9maGlyL3V2L215Y29udGVudGlnL1F1ZXN0aW9ubmFpcmUvcGhxLTktcXVlc3Rpb25uYWlyZScNCiAgICAgICAgc29ydCBieSAoYXV0aG9yZWQgYXMgRkhJUi5kYXRlVGltZSkgZGVzYw0KICAgICkNCg0KLy8gTk9URTogVGhpcyB0aWVzIHRoaXMgbG9naWMgZGlyZWN0bHkgdG8gdGhpcyBwYXJ0aWN1bGFyIHJlbmRlcmluZyBvZiB0aGUgUXVlc3Rpb25uYWlyZS4NCi8vIElkZWFsbHkgdGhlIGl0ZW1zIHdvdWxkIGJlIGZpbHRlcmVkIGJhc2VkIG9uIENvZGUgb2YgdGhlIEl0ZW0sIHJhdGhlciB0aGFuIHRoZSBMaW5rSWQsDQovLyBidXQgdGhhdCB3b3VsZCByZXF1aXJlIHB1bGxpbmcgaW4gdGhlIFF1ZXN0aW9ubmFpcmUgYmVjYXVzZSB0aGUgUXVlc3Rpb25uYWlyZVJlc3BvbnNlDQovLyBvbmx5IGhhcyB0aGUgTGlua0lkLg0KZGVmaW5lICJSZXNwb25zZXMiOg0KICAiUXVlc3Rpb25uYWlyZVJlc3BvbnNlIiBRUg0KICAgIHJldHVybiBRUi5pdGVtIEkgd2hlcmUgSS5saW5rSWQgaW4gew0KICAgICAgJ0xpdHRsZUludGVyZXN0JywNCiAgICAgICdGZWVsaW5nRG93bicsDQogICAgICAnVHJvdWJsZVNsZWVwaW5nJywNCiAgICAgICdGZWVsaW5nVGlyZWQnLA0KICAgICAgJ0JhZEFwZXRpdGUnLA0KICAgICAgJ0ZlZWxpbmdCYWRBYm91dFNlbGYnLA0KICAgICAgJ1Ryb3VibGVDb25jZXRyYXRpbmcnLA0KICAgICAgJ01vdmluZ1NwZWFraW5nJw0KICAgIH0NCg0KLyoNCkBzb3VyY2U6IGh0dHBzOi8vd3d3Lm1lZC51bWljaC5lZHUvMWluZm8vRkhQL3ByYWN0aWNlZ3VpZGVzL2RlcHJlc3Mvc2NvcmUucGRmDQoqLw0KZGVmaW5lIGZ1bmN0aW9uICJBbnN3ZXJDYXJkaW5hbGl0eSIoYW5zd2VyIENvZGluZyk6DQogIGNhc2UNCiAgICB3aGVuIGFuc3dlciB+ICJOb3QgYXQgYWxsIiB0aGVuIDANCiAgICB3aGVuIGFuc3dlciB+ICJTZXZlcmFsIGRheXMiIHRoZW4gMQ0KICAgIHdoZW4gYW5zd2VyIH4gIk1vcmUgdGhhbiBoYWxmIHRoZSBkYXlzIiB0aGVuIDINCiAgICB3aGVuIGFuc3dlciB+ICJOZWFybHkgZXZlcnkgZGF5IiB0aGVuIDMNCiAgICBlbHNlIG51bGwNCiAgZW5kDQoNCmRlZmluZSAiQ2FsY3VsYXRlVG90YWxTY29yZSI6DQogIFN1bSgiUmVzcG9uc2VzIiBSIHJldHVybiBhbGwgQW5zd2VyQ2FyZGluYWxpdHkoRmlyc3QoUi5hbnN3ZXIudmFsdWUpKSkNCg=="}]},"request":{"method":"PUT","url":"Library/PHQ9LogicExample"}},{"resource":{"resourceType":"Questionnaire","id":"phq-9-questionnaire","meta":{"profile":["http://hl7.org/fhir/StructureDefinition/cqf-questionnaire"]},"text":{"status":"generated","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\">PHQ-9 Questionnaire with dynamic logic</div>"},"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-library","valueCanonical":"http://somewhere.org/fhir/uv/mycontentig/Library/PHQ9LogicExample"}],"url":"http://somewhere.org/fhir/uv/mycontentig/Questionnaire/phq-9-questionnaire","identifier":[{"use":"official","value":"phq-9"}],"version":"1.0.0","title":"Patient Health Questionnaire (PHQ-9)","status":"draft","subjectType":["Patient"],"code":[{"system":"http://loinc.org","code":"44249-1","display":"PHQ-9 quick depression assessment panel [Reported.PHQ]"}],"item":[{"linkId":"LittleInterest","code":[{"system":"http://loinc.org","code":"44250-9"}],"text":"Little interest or pleasure in doing things","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"FeelingDown","code":[{"system":"http://loinc.org","code":"44255-8"}],"text":"Feeling down, depressed, or hopeless","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"TroubleSleeping","code":[{"system":"http://loinc.org","code":"44259-0"}],"text":"Trouble falling or staying asleep","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"FeelingTired","code":[{"system":"http://loinc.org","code":"44254-1"}],"text":"Feeling tired or having little energy","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"BadAppetite","code":[{"system":"http://loinc.org","code":"44251-7"}],"text":"Poor appetite or overeating","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"FeelingBadAboutSelf","code":[{"system":"http://loinc.org","code":"44258-2"}],"text":"Feeling bad about yourself - or that you are a failure or have let yourself or your family down","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"TroubleConcentrating","code":[{"system":"http://loinc.org","code":"44252-5"}],"text":"Trouble concentrating on things, such as reading the newspaper or watching television","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"linkId":"MovingSpeaking","code":[{"system":"http://loinc.org","code":"44253-3"}],"text":"Moving or speaking so slowly that other people could have noticed. Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"},{"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-expression","valueExpression":{"language":"text/cql","expression":"CalculateTotalScore"}}],"linkId":"TotalScore","code":[{"system":"http://loinc.org","code":"44261-6"}],"text":"Total score","type":"integer","required":true},{"linkId":"Difficulty","code":[{"system":"http://loinc.org","code":"44256-6"}],"text":"If you checked off any problems, how difficult have these problems made it for you to do your work, take care of things at home, or get along with other people","type":"choice","required":true,"answerValueSet":"http://loinc.org/vs/LL358-3"}]},"request":{"method":"PUT","url":"Questionnaire/phq-9-questionnaire"}}]}